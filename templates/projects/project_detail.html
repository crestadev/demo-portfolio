{% extends 'base.html' %}
{% load static %}
{% block title %}{{ project.title }} | Projects{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'projects/projects.css' %}">
<meta name="description" content="{{ project.description|truncatechars:150 }}">
{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="project-detail">
    <div class="project-header text-center">
      <h1>{{ project.title }}</h1>
      <p class="text-muted mb-3">{{ project.technologies }}</p>
      {% if project.image %}
        <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-fluid mb-3 rounded shadow-sm">
      {% endif %}
    </div>

    <div class="project-body">
      <p class="lead">{{ project.description }}</p>

      {% if project.gallery.all %}
      <h4 class="mt-4">Gallery</h4>
      <div class="row g-3">
        {% for img in project.gallery.all %}
        <div class="col-6 col-md-3">
          <a href="{{ img.image.url }}" target="_blank" class="d-block">
            <img src="{{ img.image.url }}" alt="{{ img.caption }}" class="img-fluid rounded">
          </a>
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <div class="mt-4">
        {% if project.github_link %}
          <a href="{{ project.github_link }}" target="_blank" class="btn btn-dark me-2">Source</a>
        {% endif %}
        {% if project.live_demo %}
          <a href="{{ project.live_demo }}" target="_blank" class="btn btn-success">Live Demo</a>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
