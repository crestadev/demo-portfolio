{% extends 'base.html' %}
{% load static %}

{% block title %}Resume | {{ profile.full_name }}{% endblock %}

{% block content %}
<div class="container">

  <!-- Profile Info -->
  <div class="text-center mb-5">
    <h1>{{ profile.full_name }}</h1>
    <h3>{{ profile.title }}</h3>
    <p>{{ profile.bio }}</p>
    <p>
      <strong>Email:</strong> {{ profile.email }} |
      <strong>Phone:</strong> {{ profile.phone }} |
      <strong>Location:</strong> {{ profile.location }}
    </p>
    <a href="{% url 'core:resume_pdf' %}" class="btn">Download PDF</a>
  </div>

  <hr>

  <!-- Experience Section -->
  <section>
    <h3>Experience</h3>
    {% for exp in profile.experiences.all %}
      <div class="mb-3">
        <h5>{{ exp.position }} â€” {{ exp.company }}</h5>
        <p><em>{{ exp.start_year }} - {{ exp.end_year|default:"Present" }}</em></p>
        <p>{{ exp.description }}</p>
      </div>
    {% empty %}
      <p>No experiences added yet.</p>
    {% endfor %}
  </section>

  <hr>

  <!-- Education Section -->
  <section>
    <h3>Education</h3>
    {% for edu in profile.education.all %}
      <div class="mb-3">
        <h5>{{ edu.degree }}</h5>
        <p><em>{{ edu.institution }} ({{ edu.year }})</em></p>
        <p>{{ edu.description }}</p>
      </div>
    {% empty %}
      <p>No education records yet.</p>
    {% endfor %}
  </section>

  <hr>

  <!-- Skills Section -->
  <section>
    <h3>Skills</h3>
    {% for skill in profile.skills.all %}
      <div>
        <strong>{{ skill.name }}</strong> - {{ skill.level }}%
        <div class="skill-bar">
          <div class="skill-fill" style="width: {{ skill.level }}%;"></div>
        </div>
      </div>
    {% empty %}
      <p>No skills added yet.</p>
    {% endfor %}
  </section>

</div>

<!-- Link external CSS for PDF & browser -->
<link rel="stylesheet" href="{% static 'resume/style.css' %}">
{% endblock %}
